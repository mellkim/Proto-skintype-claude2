<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Genetic Skin Analysis</title>
    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ["Inter", "Pretendard", "ui-sans-serif", "system-ui"],
            },
          },
        },
      };
    </script>
    <!-- React (UMD) + Babel Standalone: ë¸Œë¼ìš°ì €ì—ì„œ JSX ë³€í™˜ìš© -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>
  <body class="min-h-screen bg-slate-50">
    <div id="root"></div>

    <!-- ì•± ì½”ë“œ: JSXë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©. Babelì´ ë¸Œë¼ìš°ì €ì—ì„œ ë³€í™˜í•©ë‹ˆë‹¤. -->
    <script type="text/babel" data-presets="react">
      const { useState } = React;

      // ì•„ì´ì½˜ ëŒ€ì²´: lucide-react ëŒ€ì‹  ì‹¬í”Œí•œ ì´ëª¨ì§€/ê¸°í˜¸ ì»´í¬ë„ŒíŠ¸
      const Icon = ({ label, className = "" }) => (
        <span className={"inline-block align-middle " + className}>{label}</span>
      );
      const Plus = (p) => <Icon label="ï¼‹" {...p} />;
      const Minus = (p) => <Icon label="âˆ’" {...p} />;
      const TrendingUp = (p) => <Icon label="ğŸ“ˆ" {...p} />;
      const AlertTriangle = (p) => <Icon label="âš ï¸" {...p} />;
      const Calendar = (p) => <Icon label="ğŸ“…" {...p} />;
      const ChevronRight = (p) => <Icon label="â€º" {...p} />;
      const BarChart3 = (p) => <Icon label="ğŸ“Š" {...p} />;
      const Info = (p) => <Icon label="â„¹ï¸" {...p} />;
      const Sparkles = (p) => <Icon label="âœ¨" {...p} />;
      const Beaker = (p) => <Icon label="ğŸ§ª" {...p} />;
      const ShoppingBag = (p) => <Icon label="ğŸ›ï¸" {...p} />;
      const Lightbulb = (p) => <Icon label="ğŸ’¡" {...p} />;
      const X = (p) => <Icon label="âœ•" {...p} />;

      // ìƒ˜í”Œ ë°ì´í„°
      const SAMPLE_REPORTS = [
        { id: "report_001", date: "2025-09-02", week: 0, title: "ì´ˆê¸° ë¶„ì„", overallScore: 78, status: "completed" },
        { id: "report_002", date: "2025-08-05", week: 4, title: "4ì£¼ì°¨ ì¶”ì ", overallScore: 85, status: "completed" },
        { id: "report_003", date: "2025-07-08", week: 8, title: "8ì£¼ì°¨ ì¶”ì ", overallScore: 82, status: "completed" },
      ];

      // ëª¨ë“  11ê°œ ë°”ì´ì˜¤ë§ˆì»¤ ìƒì„¸ ì •ë³´
      const BIOMARKER_DETAILS = {
        PINK1: {
          fullName: "PINK1 (PTEN-induced kinase 1)",
          function: "ë¯¸í† ì½˜ë“œë¦¬ì•„ í’ˆì§ˆ ê´€ë¦¬ ë° ì„¸í¬ ì—ë„ˆì§€ ëŒ€ì‚¬ë¥¼ ì¡°ì ˆí•˜ëŠ” í•µì‹¬ ìœ ì „ìì…ë‹ˆë‹¤.",
          mechanism: "PINK1ì€ ì†ìƒëœ ë¯¸í† ì½˜ë“œë¦¬ì•„ë¥¼ ì œê±°í•˜ëŠ” ë§ˆì´í† íŒŒì§€ ê³¼ì •ì„ ì¡°ì ˆí•˜ì—¬ ì„¸í¬ ê±´ê°•ì„ ìœ ì§€í•©ë‹ˆë‹¤.",
          ingredients: [
            { name: "ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ", description: "ë¯¸í† ì½˜ë“œë¦¬ì•„ ê¸°ëŠ¥ í–¥ìƒ", concentration: "2-5%" },
            { name: "ë ˆí‹°ë†€", description: "ì„¸í¬ ì¬ìƒ ì´‰ì§„", concentration: "0.25-1%" },
          ],
          products: ["ë” ì˜¤ë””ë„ˆë¦¬ ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ 10%", "ë¡œë ˆì•Œ ë ˆë¹„íƒˆë¦¬í”„íŠ¸ ë‚˜ì´íŠ¸ ì„¸ëŸ¼"],
          tips: ["ì¶©ë¶„í•œ ìˆ˜ë©´ìœ¼ë¡œ ì„¸í¬ ì¬ìƒ ì‹œê°„ í™•ë³´", "í•­ì‚°í™” ì„±ë¶„ì´ í’ë¶€í•œ ì‹í’ˆ ì„­ì·¨"],
        },
        COL1A1: {
          fullName: "COL1A1 (Collagen Type I Alpha 1)",
          function: "ì œ1í˜• ì½œë¼ê²ì˜ ì£¼ìš” êµ¬ì„± ì„±ë¶„ì„ ìƒì„±í•˜ëŠ” ìœ ì „ìë¡œ, í”¼ë¶€ì˜ êµ¬ì¡°ì  ê°•ë„ì™€ íƒ„ë ¥ì„±ì„ ê²°ì •í•©ë‹ˆë‹¤.",
          mechanism: "COL1A1 ìœ ì „ìëŠ” ì½œë¼ê² ì„¬ìœ ì˜ ê¸°ë³¸ êµ¬ì¡°ë¥¼ ë§Œë“œëŠ” Î±1 ì‚¬ìŠ¬ì„ ì•”í˜¸í™”í•©ë‹ˆë‹¤.",
          ingredients: [{ name: "ë¹„íƒ€ë¯¼ C", description: "ì½œë¼ê² í•©ì„± ì´‰ì§„", concentration: "10-20%" }],
          products: ["CEí˜ë¦° ë¹„íƒ€ë¯¼C ì„¸ëŸ¼"],
          tips: ["ë¹„íƒ€ë¯¼ C í’ë¶€í•œ ê³¼ì¼, ì±„ì†Œ ì„­ì·¨"],
        },
        MSN: {
          fullName: "MSN (Moesin)",
          function: "ì„¸í¬ë§‰ì˜ êµ¬ì¡°ì  ì•ˆì •ì„±ì„ ìœ ì§€í•˜ê³  í”¼ë¶€ ì¥ë²½ ê¸°ëŠ¥ì„ ì¡°ì ˆí•©ë‹ˆë‹¤.",
          mechanism: "MSNì€ ì„¸í¬ë§‰ê³¼ ì„¸í¬ê³¨ê²©ì„ ì—°ê²°í•˜ì—¬ í”¼ë¶€ ì„¸í¬ì˜ í˜•íƒœë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.",
          ingredients: [{ name: "ì„¸ë¼ë§ˆì´ë“œ", description: "ì„¸í¬ë§‰ ê°•í™”", concentration: "2-5%" }],
          products: ["CeraVe ëª¨ì´ìŠ¤ì²˜ë¼ì´ì§• í¬ë¦¼"],
          tips: ["ê³¼ë„í•œ ì„¸ì•ˆ í”¼í•˜ê¸°"],
        },
        HAS2: {
          fullName: "HAS2 (Hyaluronic Acid Synthase 2)",
          function: "íˆì•Œë£¨ë¡ ì‚° í•©ì„±ì„ ë‹´ë‹¹í•˜ëŠ” íš¨ì†Œë¡œ, í”¼ë¶€ì˜ ìˆ˜ë¶„ ë³´ìœ  ëŠ¥ë ¥ì„ ê²°ì •í•©ë‹ˆë‹¤.",
          mechanism: "HAS2ëŠ” íˆì•Œë£¨ë¡ ì‚°ì„ ìƒì„±í•˜ì—¬ í”¼ë¶€ì— ìˆ˜ë¶„ì„ ê³µê¸‰í•©ë‹ˆë‹¤.",
          ingredients: [{ name: "íˆì•Œë£¨ë¡ ì‚°", description: "ìˆ˜ë¶„ ê³µê¸‰", concentration: "0.5-2%" }],
          products: ["ë” ì˜¤ë””ë„ˆë¦¬ íˆì•Œë£¨ë¡ ì‚° 2% + B5"],
          tips: ["ì¶©ë¶„í•œ ë¬¼ ì„­ì·¨"],
        },
        FLG: {
          fullName: "FLG (Filaggrin)",
          function: "ê°ì§ˆì¸µì˜ ë³´ìŠµ ì¸ìë¥¼ ìƒì„±í•˜ì—¬ í”¼ë¶€ ì¥ë²½ ê¸°ëŠ¥ì„ ìœ ì§€í•©ë‹ˆë‹¤.",
          mechanism: "FLGëŠ” ì²œì—°ë³´ìŠµì¸ìì˜ ì›ë£Œê°€ ë˜ì–´ ê°ì§ˆì¸µì˜ ìˆ˜ë¶„ì„ ìœ ì§€í•©ë‹ˆë‹¤.",
          ingredients: [{ name: "ìš°ë ˆì•„", description: "ì²œì—°ë³´ìŠµì¸ì ë³´ì¶©", concentration: "5-10%" }],
          products: ["ìœ ì„¸ë¦° UreaRepair í¬ë¦¼"],
          tips: ["ë¯¸ì§€ê·¼í•œ ë¬¼ë¡œ ì§§ê²Œ ìƒ¤ì›Œí•˜ê¸°"],
        },
        AQP3: {
          fullName: "AQP3 (Aquaporin-3)",
          function: "ì„¸í¬ë§‰ì˜ ìˆ˜ë¶„ í†µë¡œ ì—­í• ì„ í•˜ëŠ” ë‹¨ë°±ì§ˆì…ë‹ˆë‹¤.",
          mechanism: "AQP3ëŠ” í”¼ë¶€ ì„¸í¬ ë‚´ì™¸ë¡œ ë¬¼ ë¶„ìê°€ ì´ë™í•  ìˆ˜ ìˆëŠ” í†µë¡œë¥¼ ì œê³µí•©ë‹ˆë‹¤.",
          ingredients: [{ name: "ê¸€ë¦¬ì„¸ë¦°", description: "ìˆ˜ë¶„ ì „ë‹¬ ì´‰ì§„", concentration: "5-15%" }],
          products: ["ë‰´íŠ¸ë¡œì§€ë‚˜ í•˜ì´ë“œë¼ë¶€ìŠ¤íŠ¸ ì„¸ëŸ¼"],
          tips: ["í•˜ë£¨ 2-3L ì¶©ë¶„í•œ ìˆ˜ë¶„ ì„­ì·¨"],
        },
        SPINK5: {
          fullName: "SPINK5 (Serine Peptidase Inhibitor Kazal Type 5)",
          function: "í”¼ë¶€ ì¥ë²½ì„ ë³´í˜¸í•˜ëŠ” íš¨ì†Œ ì–µì œì œì…ë‹ˆë‹¤.",
          mechanism: "SPINK5ëŠ” ì„¸ë¦° í”„ë¡œí…Œì•„ì œë¥¼ ì–µì œí•˜ì—¬ í”¼ë¶€ ì¥ë²½ì„ ìœ ì§€í•©ë‹ˆë‹¤.",
          ingredients: [{ name: "ì•Œë€í† ì¸", description: "í”¼ë¶€ ì§„ì •", concentration: "0.5-2%" }],
          products: ["ë¼ë¡œìŠˆí¬ì œ í†¨ë ˆë¦¬ì•ˆ ì¼€ì–´"],
          tips: ["ìê·¹ì ì¸ ì„±ë¶„ í”¼í•˜ê¸°"],
        },
        MLANA: {
          fullName: "MLANA (Melanoma Antigen)",
          function: "ë©œë¼ë‹Œ ìƒì„±ê³¼ ìƒ‰ì†Œ ì„¸í¬ì˜ ê¸°ëŠ¥ì„ ì¡°ì ˆí•©ë‹ˆë‹¤.",
          mechanism: "MLANAëŠ” ë©œë¼ë…¸ì‚¬ì´íŠ¸ì˜ ì„±ìˆ™ê³¼ ë©œë¼ë‹Œ í•©ì„± ê³¼ì •ì— ê´€ì—¬í•©ë‹ˆë‹¤.",
          ingredients: [{ name: "ë¹„íƒ€ë¯¼ C", description: "ë©œë¼ë‹Œ ìƒì„± ì–µì œ", concentration: "10-20%" }],
          products: ["í´ë¦¬ë‹ˆí¬ ì´ë¸ ë² í„° ì„¸ëŸ¼"],
          tips: ["ë§¤ì¼ ìì™¸ì„  ì°¨ë‹¨ì œ ì‚¬ìš©"],
        },
        TFAP2A: {
          fullName: "TFAP2A (Transcription Factor AP-2 Alpha)",
          function: "ìƒ‰ì†Œ ì„¸í¬ì˜ ë°œë‹¬ê³¼ ë©œë¼ë‹Œ ìƒì„±ì„ ì¡°ì ˆí•˜ëŠ” ì „ì‚¬ ì¸ìì…ë‹ˆë‹¤.",
          mechanism: "TFAP2AëŠ” ë©œë¼ë…¸ì‚¬ì´íŠ¸ì˜ ë¶„í™”ë¥¼ ì¡°ì ˆí•©ë‹ˆë‹¤.",
          ingredients: [{ name: "ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œ", description: "ë©œë¼ë‹Œ ì „ë‹¬ ì–µì œ", concentration: "5-10%" }],
          products: ["ë” ì˜¤ë””ë„ˆë¦¬ ì•ŒíŒŒ ì•„ë¥´ë¶€í‹´ 2%"],
          tips: ["ê¾¸ì¤€í•œ ìì™¸ì„  ì°¨ë‹¨"],
        },
        SOD1: {
          fullName: "SOD1 (Superoxide Dismutase 1)",
          function: "í™œì„±ì‚°ì†Œë¥¼ ì œê±°í•˜ëŠ” ê°•ë ¥í•œ í•­ì‚°í™” íš¨ì†Œì…ë‹ˆë‹¤.",
          mechanism: "SOD1ì€ í™œì„±ì‚°ì†Œë¥¼ ì•ˆì „í•œ ë¬¼ì§ˆë¡œ ë³€í™˜ì‹œì¼œ ì„¸í¬ ì†ìƒì„ ë°©ì§€í•©ë‹ˆë‹¤.",
          ingredients: [{ name: "ë¹„íƒ€ë¯¼ E", description: "í•­ì‚°í™” ì‹œë„ˆì§€", concentration: "0.5-1%" }],
          products: ["SkinCeuticals CE Ferulic"],
          tips: ["í•­ì‚°í™” ìŒì‹ ì„­ì·¨"],
        },
        VDR: {
          fullName: "VDR (Vitamin D Receptor)",
          function: "ë¹„íƒ€ë¯¼ Dì˜ ì‘ìš©ì„ ë§¤ê°œí•˜ì—¬ í”¼ë¶€ ì„¸í¬ë¥¼ ì¡°ì ˆí•©ë‹ˆë‹¤.",
          mechanism: "VDRì€ ë¹„íƒ€ë¯¼ Dì™€ ê²°í•©í•˜ì—¬ ì„¸í¬ ê¸°ëŠ¥ì„ ì¡°ì ˆí•©ë‹ˆë‹¤.",
          ingredients: [{ name: "ë¹„íƒ€ë¯¼ D3", description: "VDR í™œì„±í™”", concentration: "1000-4000IU" }],
          products: ["ë„¤ì´ì²˜ë©”ì´ë“œ ë¹„íƒ€ë¯¼ D3"],
          tips: ["ì ë‹¹í•œ ì¼ê´‘ìš•"],
        },
      };

      const SAMPLE_CURRENT_DATA = {
        userId: "user123",
        analysisId: "analysis456",
        timestamp: new Date(),
        week: 0,
        biomarkers: {
          aging: [
            { gene: "PINK1", value: -15, koreanMean: -10, stdDev: 8, name: "ë¯¸í† ì½˜ë“œë¦¬ì•„ ê¸°ëŠ¥" },
            { gene: "COL1A1", value: 25, koreanMean: 15, stdDev: 12, name: "ì½œë¼ê² ìƒì„±" },
            { gene: "MSN", value: -5, koreanMean: 0, stdDev: 6, name: "ì„¸í¬ë§‰ ì•ˆì •ì„±" },
            { gene: "HAS2", value: 30, koreanMean: 20, stdDev: 10, name: "íˆì•Œë£¨ë¡ ì‚° í•©ì„±" },
          ],
          dryness: [
            { gene: "FLG", value: 40, koreanMean: 25, stdDev: 15, name: "í•„ë¼ê·¸ë¦°" },
            { gene: "AQP3", value: -20, koreanMean: -15, stdDev: 8, name: "ì•„ì¿ ì•„í¬ë¦°-3" },
            { gene: "SPINK5", value: 10, koreanMean: 5, stdDev: 7, name: "ì„¸ë¦° í”„ë¡œí…Œì•„ì œ ì–µì œ" },
          ],
          pigmentation: [
            { gene: "MLANA", value: -25, koreanMean: -20, stdDev: 9, name: "ë©œë¼ë‹Œ ìƒì„±" },
            { gene: "TFAP2A", value: 15, koreanMean: 10, stdDev: 8, name: "ì „ì‚¬ì¸ì AP-2Î±" },
            { gene: "SOD1", value: -10, koreanMean: -5, stdDev: 6, name: "í•­ì‚°í™” íš¨ì†Œ" },
            { gene: "VDR", value: 35, koreanMean: 20, stdDev: 12, name: "ë¹„íƒ€ë¯¼D ìˆ˜ìš©ì²´" },
          ],
        },
      };

      function GeneticSkinAnalysisApp() {
        const [currentView, setCurrentView] = useState("reports");
        const [selectedReport, setSelectedReport] = useState(null);
        const [selectedGene, setSelectedGene] = useState(null);
        const [reports] = useState(SAMPLE_REPORTS);

        const getMarkerStatus = (marker) => {
          const zScore = Math.abs((marker.value - marker.koreanMean) / marker.stdDev);
          if (zScore <= 1) return "normal";
          if (zScore <= 2) return "warning";
          return "critical";
        };

        const getStatusIcon = (status) => {
          switch (status) {
            case "normal":
              return <Minus className="w-4 h-4 text-emerald-500" />;
            case "warning":
              return <TrendingUp className="w-4 h-4 text-amber-500" />;
            case "critical":
              return <AlertTriangle className="w-4 h-4 text-rose-500" />;
            default:
              return null;
          }
        };

        const getStatusColor = (status) => {
          switch (status) {
            case "normal":
              return "border-emerald-200 bg-gradient-to-br from-emerald-50 to-cyan-50";
            case "warning":
              return "border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50";
            case "critical":
              return "border-rose-200 bg-gradient-to-br from-rose-50 to-pink-50";
            default:
              return "border-slate-200 bg-gradient-to-br from-slate-50 to-gray-50";
          }
        };

        // ìœ ì „ì ìƒì„¸ ì •ë³´ ëª¨ë‹¬
        const GeneDetailModal = ({ gene, onClose }) => {
          const details = BIOMARKER_DETAILS[gene];
          if (!details) return null;

          return (
            <div className="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50">
              <div className="bg-white rounded-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto shadow-2xl">
                <div className="sticky top-0 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-t-2xl p-6 flex items-center justify-between">
                  <div>
                    <h2 className="text-xl font-bold">{gene}</h2>
                    <p className="text-indigo-100 text-sm">{details.fullName}</p>
                  </div>
                  <button
                    onClick={onClose}
                    className="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors"
                  >
                    <X className="w-5 h-5" />
                  </button>
                </div>

                <div className="p-6 space-y-6">
                  <div>
                    <h3 className="font-bold text-slate-800 mb-3 flex items-center text-lg">
                      <Beaker className="w-5 h-5 mr-2" />
                      ìœ ì „ì ê¸°ëŠ¥
                    </h3>
                    <p className="text-slate-700 leading-relaxed">{details.function}</p>
                  </div>

                  <div>
                    <h3 className="font-bold text-slate-800 mb-3 text-lg">ì¡°ì ˆ ê¸°ì „</h3>
                    <p className="text-slate-700 leading-relaxed">{details.mechanism}</p>
                  </div>

                  <div>
                    <h3 className="font-bold text-slate-800 mb-3 flex items-center text-lg">
                      <Sparkles className="w-5 h-5 mr-2" />
                      ì¶”ì²œ í™”ì¥í’ˆ ì„±ë¶„
                    </h3>
                    <div className="space-y-3">
                      {details.ingredients?.map((ingredient, index) => (
                        <div key={index} className="p-4 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200">
                          <div className="font-semibold text-amber-900">{ingredient.name}</div>
                          <div className="text-amber-700 mt-1">{ingredient.description}</div>
                          <div className="text-xs text-amber-600 mt-2 font-medium">ê¶Œì¥ ë†ë„: {ingredient.concentration}</div>
                        </div>
                      ))}
                    </div>
                  </div>

                  <div>
                    <h3 className="font-bold text-slate-800 mb-3 flex items-center text-lg">
                      <ShoppingBag className="w-5 h-5 mr-2" />
                      ì¶”ì²œ ì œí’ˆ
                    </h3>
                    <div className="space-y-2">
                      {details.products?.map((product, index) => (
                        <div key={index} className="p-3 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl border border-emerald-200">
                          <div className="font-medium text-emerald-900">{product}</div>
                        </div>
                      ))}
                    </div>
                  </div>

                  <div>
                    <h3 className="font-bold text-slate-800 mb-3 flex items-center text-lg">
                      <Lightbulb className="w-5 h-5 mr-2" />
                      í”¼ë¶€ ê´€ë¦¬ íŒ
                    </h3>
                    <div className="space-y-2">
                      {details.tips?.map((tip, index) => (
                        <div key={index} className="p-3 bg-gradient-to-r from-yellow-50 to-amber-50 rounded-xl border border-yellow-200">
                          <div className="text-yellow-800 flex items-start">
                            <span className="w-1.5 h-1.5 rounded-full mt-2 mr-3 flex-shrink-0">â€¢</span>
                            {tip}
                          </div>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
            </div>
          );
        };

        // ë°”ì´ì˜¤ë§ˆì»¤ ì¹´ë“œ
        const BiomarkerCard = ({ marker }) => {
          const status = getMarkerStatus(marker);
          const expressionLevel = Math.max(0, Math.min(100, (100 - marker.value) / 2));

          return (
            <div
              className={`p-4 rounded-2xl border-2 ${getStatusColor(status)} transition-all duration-300 cursor-pointer hover:shadow-lg hover:scale-[1.02] transform`}
              onClick={() => setSelectedGene(marker.gene)}
            >
              <div className="flex items-center justify-between mb-3">
                <div className="flex items-center space-x-2">
                  {getStatusIcon(status)}
                  <span className="font-bold text-slate-800 text-sm tracking-wide">{marker.gene}</span>
                </div>
                <span className="text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded-full font-medium">Î”Ct</span>
              </div>

              <div className="mb-3">
                <span className="text-xl font-bold text-slate-900">{marker.value}</span>
                <span className="text-xs text-slate-500 ml-2">(í‰ê· : {marker.koreanMean})</span>
              </div>

              <div className="text-xs text-slate-600 mb-3 font-medium">{marker.name}</div>

              <div className="w-full bg-slate-200 rounded-full h-2.5">
                <div
                  className="bg-gradient-to-r from-indigo-500 to-purple-500 h-2.5 rounded-full transition-all duration-1000"
                  style={{ width: `${expressionLevel}%` }}
                />
              </div>
              <div className="text-xs text-slate-500 mt-2 text-center font-medium">ë°œí˜„ ë ˆë²¨: {Math.round(expressionLevel)}%</div>
            </div>
          );
        };

        // ë¦¬í¬íŠ¸ ëª©ë¡ ë·°
        const ReportsListView = () => (
          <div className="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-4">
            <div className="bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-6 mb-6">
              <div className="flex items-center justify-between">
                <div>
                  <h1 className="text-2xl font-bold text-slate-900 tracking-tight">ğŸ§¬ í”¼ë¶€ ìœ ì „ì ë¶„ì„</h1>
                  <p className="text-slate-600 mt-1">ë‚˜ì˜ ë¶„ì„ ê¸°ë¡</p>
                </div>
                <button className="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold flex items-center space-x-2 hover:shadow-lg transition-all duration-300">
                  <Plus className="w-4 h-4" />
                  <span>ìƒˆ ë¶„ì„</span>
                </button>
              </div>
            </div>

            <div className="space-y-4">
              {reports.map((report) => (
                <div
                  key={report.id}
                  onClick={() => {
                    setSelectedReport(report);
                    setCurrentView("analysis");
                  }}
                  className="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50 p-6 cursor-pointer hover:shadow-xl transition-all duration-300 hover:scale-[1.01]"
                >
                  <div className="flex items-center justify-between">
                    <div className="flex items-center space-x-4">
                      <div className="w-14 h-14 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center">
                        <span className="text-white font-bold text-sm">{report.week}ì£¼</span>
                      </div>
                      <div>
                        <h3 className="font-bold text-slate-900 text-lg">{report.title}</h3>
                        <p className="text-slate-600 flex items-center mt-1">
                          <Calendar className="w-4 h-4 mr-1" />
                          {new Date(report.date).toLocaleDateString("ko-KR")}
                        </p>
                      </div>
                    </div>
                    <div className="flex items-center space-x-4">
                      <div className="text-right">
                        <div className="text-2xl font-bold text-indigo-600">{report.overallScore}</div>
                        <div className="text-xs text-slate-500 font-medium">ì¢…í•©ì ìˆ˜</div>
                      </div>
                      <ChevronRight className="w-6 h-6 text-slate-400" />
                    </div>
                  </div>
                </div>
              ))}
            </div>

            <div className="mt-8">
              <button
                onClick={() => setCurrentView("comparison")}
                className="w-full bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50 p-6 flex items-center justify-center space-x-3 hover:shadow-xl transition-all duration-300"
              >
                <BarChart3 className="w-6 h-6 text-indigo-600" />
                <span className="font-semibold text-slate-800 text-lg">ì „ì²´ íˆìŠ¤í† ë¦¬ ì°¨íŠ¸ ë³´ê¸°</span>
              </button>
            </div>
          </div>
        );

        // ë¶„ì„ ê²°ê³¼ ë·°
        const AnalysisResultView = () => {
          const data = SAMPLE_CURRENT_DATA;
          const overallScore = 78;

          const CategorySection = ({ title, markers, icon }) => (
            <div className="mb-8">
              <div className="flex items-center space-x-3 mb-4">
                <span className="text-2xl">{icon}</span>
                <h3 className="text-xl font-bold text-slate-900 tracking-tight">{title}</h3>
              </div>
              <div className="grid grid-cols-2 gap-4">
                {markers.map((marker) => (
                  <BiomarkerCard key={marker.gene} marker={marker} />
                ))}
              </div>
            </div>
          );

          return (
            <div className="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-4">
              <div className="bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-6 mb-6">
                <div className="flex items-center justify-between">
                  <button
                    onClick={() => setCurrentView("reports")}
                    className="flex items-center space-x-2 text-slate-600 hover:text-slate-800 transition-colors"
                  >
                    <ChevronRight className="w-5 h-5 rotate-180" />
                    <span className="font-medium">ë¦¬í¬íŠ¸ ëª©ë¡</span>
                  </button>
                  <div className="text-right">
                    <h1 className="text-xl font-bold text-slate-900">ë¶„ì„ ê²°ê³¼</h1>
                    <p className="text-slate-600 text-sm">{new Date().toLocaleDateString("ko-KR")}</p>
                  </div>
                </div>
              </div>

              <div className="bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 rounded-2xl p-8 mb-8 text-white shadow-2xl">
                <div className="text-center">
                  <div className="text-6xl font-bold text-white mb-4 tracking-tight">{overallScore}</div>
                  <div className="text-xl opacity-90 mb-2 font-medium">ì¢…í•© ìœ ì „ì ì ìˆ˜</div>
                  <div className="text-sm text-indigo-100">11ê°œ ë°”ì´ì˜¤ë§ˆì»¤ ê¸°ì¤€</div>

                  <div className="w-full bg-white/20 rounded-full h-4 mt-6">
                    <div className="bg-gradient-to-r from-yellow-400 to-orange-400 h-4 rounded-full transition-all duration-1000" style={{ width: `${overallScore}%` }} />
                  </div>
                </div>
              </div>

              <div className="space-y-8">
                <CategorySection title="í”¼ë¶€ ë…¸í™”" markers={data.biomarkers.aging} icon="â³" />
                <CategorySection title="í”¼ë¶€ ê±´ì¡°" markers={data.biomarkers.dryness} icon="ğŸ’§" />
                <CategorySection title="í”¼ë¶€ ìƒ‰ì†Œ" markers={data.biomarkers.pigmentation} icon="ğŸ¨" />
              </div>

              <div className="grid grid-cols-2 gap-4 mt-8">
                <button onClick={() => setCurrentView("comparison")} className="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50 p-6 flex items-center justify-center space-x-2 hover:shadow-xl transition-all duration-300">
                  <BarChart3 className="w-5 h-5 text-indigo-600" />
                  <span className="font-semibold text-slate-800">ë¹„êµ ì°¨íŠ¸</span>
                </button>
                <button onClick={() => setCurrentView("recommendations")} className="bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-2xl p-6 flex items-center justify-center space-x-2 hover:shadow-xl transition-all duration-300">
                  <Info className="w-5 h-5" />
                  <span className="font-semibold">ë§ì¶¤ ì¶”ì²œ</span>
                </button>
              </div>

              <div className="mt-4">
                <button onClick={() => setCurrentView("routine-builder")} className="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl p-6 flex items-center justify-center space-x-2 hover:shadow-xl transition-all duration-300">
                  <Sparkles className="w-5 h-5" />
                  <span className="font-semibold">ğŸ§´ ë§ì¶¤ ë£¨í‹´ ë¹Œë”</span>
                </button>
              </div>
            </div>
          );
        };

        // ê°„ë‹¨í•œ í”Œë ˆì´ìŠ¤í™€ë” ë·°ë“¤
        const ComparisonView = () => (
          <div className="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-4">
            <div className="bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-6 mb-6">
              <div className="flex items-center justify-between">
                <button onClick={() => setCurrentView("reports")} className="flex items-center space-x-2 text-slate-600">
                  <ChevronRight className="w-5 h-5 rotate-180" />
                  <span>ë’¤ë¡œ</span>
                </button>
                <h1 className="text-xl font-bold text-slate-900">ğŸ“Š ë¹„êµ ë¶„ì„</h1>
              </div>
            </div>

            <div className="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50 p-8">
              <h3 className="text-2xl font-bold text-slate-900 mb-4">ë ˆì´ë” ì°¨íŠ¸ì™€ ìƒì„¸ ë¹„êµ ë¶„ì„</h3>
              <p className="text-slate-600 text-lg mb-6">11ê°œ ë°”ì´ì˜¤ë§ˆì»¤ì˜ ì¢…í•©ì ì¸ ì‹œê°í™”ì™€ í•œêµ­ì¸ í‰ê·  ëŒ€ë¹„ ë¶„ì„ì„ ì œê³µí•©ë‹ˆë‹¤.</p>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div className="p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200">
                  <h4 className="font-bold text-blue-800 mb-3">ğŸ¯ ë ˆì´ë” ì°¨íŠ¸</h4>
                  <ul className="text-sm text-blue-700 space-y-1">
                    <li>â€¢ 11ê°œ ë°”ì´ì˜¤ë§ˆì»¤ í•œëˆˆì— ë³´ê¸°</li>
                    <li>â€¢ ì¹´í…Œê³ ë¦¬ë³„ ì„¸ë¶€ ë¶„ì„</li>
                    <li>â€¢ ì‹œê°ì  íŒ¨í„´ ì¸ì‹</li>
                  </ul>
                </div>

                <div className="p-6 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl border border-emerald-200">
                  <h4 className="font-bold text-emerald-800 mb-3">ğŸ“ˆ ì§„í–‰ë„ ì¶”ì </h4>
                  <ul className="text-sm text-emerald-700 space-y-1">
                    <li>â€¢ ì‹œê°„ë³„ ë³€í™” ì¶”ì´</li>
                    <li>â€¢ ê°œì„  íš¨ê³¼ ì¸¡ì •</li>
                    <li>â€¢ ëª©í‘œ ë‹¬ì„±ë¥  í™•ì¸</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        );

        const RecommendationsView = () => (
          <div className="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-4">
            <div className="bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-6 mb-6">
              <div className="flex items-center justify-between">
                <button onClick={() => setCurrentView("analysis")} className="flex items-center space-x-2 text-slate-600">
                  <ChevronRight className="w-5 h-5 rotate-180" />
                  <span>ë’¤ë¡œ</span>
                </button>
                <h1 className="text-xl font-bold text-slate-900">ğŸ’¡ ë§ì¶¤ ì¶”ì²œ</h1>
              </div>
            </div>

            <div className="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50 p-8">
              <h3 className="text-2xl font-bold text-slate-900 mb-4">ê°œì¸ ë§ì¶¤ ì¼€ì–´ ì¶”ì²œ</h3>
              <p className="text-slate-600 text-lg mb-6">ìœ ì „ì ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ í•œ ê³¼í•™ì  ì¶”ì²œì‚¬í•­ì„ ì œê³µí•©ë‹ˆë‹¤.</p>

              <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div className="p-6 bg-gradient-to-r from-rose-50 to-pink-50 rounded-xl border border-rose-200">
                  <h4 className="font-bold text-rose-800 mb-3">ğŸš¨ ê¸´ê¸‰ ê°œì„ </h4>
                  <p className="text-sm text-rose-700">ì¦‰ì‹œ ê´€ë¦¬ê°€ í•„ìš”í•œ ìœ ì „ìì— ëŒ€í•œ ì§‘ì¤‘ ì¼€ì–´ ê°€ì´ë“œ</p>
                </div>

                <div className="p-6 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl border border-amber-200">
                  <h4 className="font-bold text-amber-800 mb-3">âš ï¸ ì£¼ì˜ ê´€ì°°</h4>
                  <p className="text-sm text-amber-700">ì˜ˆë°©ì  ê´€ë¦¬ë¥¼ í†µí•œ ìƒíƒœ ê°œì„  ë°©ì•ˆ</p>
                </div>

                <div className="p-6 bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl border border-emerald-200">
                  <h4 className="font-bold text-emerald-800 mb-3">âœ… í˜„ì¬ ìƒíƒœ ìœ ì§€</h4>
                  <p className="text-sm text-emerald-700">ì¢‹ì€ ìƒíƒœë¥¼ ì§€ì†í•˜ê¸° ìœ„í•œ ê´€ë¦¬ ë°©ë²•</p>
                </div>
              </div>
            </div>
          </div>
        );

        const RoutineBuilderView = () => (
          <div className="min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 p-4">
            <div className="bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-6 mb-6">
              <div className="flex items-center justify-between">
                <button onClick={() => setCurrentView("analysis")} className="flex items-center space-x-2 text-slate-600">
                  <ChevronRight className="w-5 h-5 rotate-180" />
                  <span>ë’¤ë¡œ</span>
                </button>
                <h1 className="text-xl font-bold text-slate-900">ğŸ§´ ë§ì¶¤ ë£¨í‹´ ë¹Œë”</h1>
              </div>
            </div>

            <div className="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/50 p-8">
              <h3 className="text-2xl font-bold text-slate-900 mb-4">AI ê¸°ë°˜ ìŠ¤í‚¨ì¼€ì–´ ë£¨í‹´</h3>
              <p className="text-slate-600 text-lg mb-6">ìœ ì „ì ë¶„ì„ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê°œì¸ ë§ì¶¤ ë£¨í‹´ì„ ìë™ ìƒì„±í•©ë‹ˆë‹¤.</p>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div className="p-6 bg-gradient-to-r from-orange-50 to-amber-50 rounded-xl border border-orange-200">
                  <h4 className="font-bold text-orange-800 mb-3">ğŸŒ… ëª¨ë‹ ë£¨í‹´</h4>
                  <ul className="text-sm text-orange-700 space-y-2">
                    <li>â€¢ ìì™¸ì„  ì°¨ë‹¨ ì¤‘ì‹¬</li>
                    <li>â€¢ í•­ì‚°í™” ì„±ë¶„ ì ìš©</li>
                    <li>â€¢ 5-6ë‹¨ê³„ ì²´ê³„ì  ì¼€ì–´</li>
                    <li>â€¢ ì•½ 10ë¶„ ì†Œìš”</li>
                  </ul>
                </div>

                <div className="p-6 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-xl border border-purple-200">
                  <h4 className="font-bold text-purple-800 mb-3">ğŸŒ™ ì´ë¸Œë‹ ë£¨í‹´</h4>
                  <ul className="text-sm text-purple-700 space-y-2">
                    <li>â€¢ ì¬ìƒê³¼ íšŒë³µ ì¤‘ì‹¬</li>
                    <li>â€¢ ì˜ì–‘ ê³µê¸‰ ì§‘ì¤‘</li>
                    <li>â€¢ 6-7ë‹¨ê³„ ì‹¬í™” ì¼€ì–´</li>
                    <li>â€¢ ì•½ 15ë¶„ ì†Œìš”</li>
                  </ul>
                </div>
              </div>

              <div className="mt-8 p-6 bg-gradient-to-r from-yellow-50 to-amber-50 rounded-xl border border-yellow-200">
                <h4 className="font-bold text-yellow-800 mb-3">âš ï¸ ì œí’ˆ ì¶©ëŒ ë°©ì§€</h4>
                <p className="text-sm text-yellow-700">ë¹„íƒ€ë¯¼ Cì™€ ë ˆí‹°ë†€, ë‚˜ì´ì•„ì‹ ì•„ë§ˆì´ë“œì™€ AHA ë“±ì˜ ì„±ë¶„ ì¶©ëŒì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  ì•ˆì „í•œ ì‚¬ìš© ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.</p>
              </div>
            </div>
          </div>
        );

        // ë£¨íŠ¸ ë Œë”ë§
        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<GeneticSkinAnalysisApp />);
      
    </script>
  </body>
</html>
